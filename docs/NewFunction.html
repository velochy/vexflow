<!DOCTYPE html>
<html>
<head>
  <title>The VexFlow Tutorial</title>

  <!-- VexFlow Compiled Source -->
  <script src="../support/vexflow-min.js"></script>

  <!-- Support Sources -->
  <script src="../support/jquery.js"></script>
  <script src="../support/raphael.js"></script>

  <style type="text/css">
    canvas {
      background: #eed;
      padding: 10px;
      border: 10px solid #ddc;
    }

    div.egcode {
      font-family: Courier;
      font-size: 14px;
    }
  </style>

  <script>
    /* Take raw javascript code, and return moderately useful HTML */
    function prettify_code(code) {
      var lines = code.split(/\r\n|\n|\r/);
      var new_lines = [];
      for (var j = 0; j < lines.length; ++j) {
        code = lines[j];
        code = code.replace(/\s/g, "&nbsp;");
        code = code.replace(/>/g, "&gt;");
        code = code.replace(/</g, "&lt;");
        new_lines.push(code);
      }

      pretty_code = "<div class='egcode'>" + new_lines.join("<br/>") + "</div>";
      return pretty_code;
    }

    /*
       Find all the javascript examples and copy their source code
       into the associated <code> blocks.
    */
    $(function() {
      $("div.description").each(function(index, sel) {
        codes = $(sel).find("code.example");
        codes.each(function(i, s) {
          var example = $(s).attr("example");
          var code = $($(sel).find(
            "div.example." + example + " script")[0]).html();
          $(s).html(prettify_code(code));
         })
      })
    })
  </script>
</head>

<body>
    <h2>Playing around</h2>
    <div class="description two">
      <div class="example a" example="a">
        <canvas width=525 height=120></canvas>
        <p/>
        <script>
  var canvas = $("div.two div.a canvas")[0];
  var renderer = new Vex.Flow.Renderer(canvas,
    Vex.Flow.Renderer.Backends.CANVAS);
  var ctx = renderer.getContext();
  
  var durations = [1,0.5,0.5,0.5,0.5,0.5,1,0.5,0.5,0.5,0.5,0.5,0.5,0.5];
  alert(Vex.Flow.printRhythmFromDurations(durations,[2],4,0,0,500,ctx));
  var durations = [0.5,0.25,0.25,0.5,0.5,0.25,0.25,0.5,0.5,0.25,0.25,0.5,0.25,0.25,0.5,0.5,0.25,0.25,0.5,0.5,0.25,0.25];
  Vex.Flow.printRhythmFromDurations(durations,[1.5,1.5,1],4,0,60,500,ctx);
  
       </script></p>
      </div>
      </div>
</body>

</html>
